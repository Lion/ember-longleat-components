{{#ui-form as |form|}}

  {{#if errors.length}}
    {{#ui-message theme="error"}}
      {{#each errors as |error|}}
        {{#if (eq error.title "not_authed")}}
          Sorry, your card was not authorised. Please try again or use another card.
        {{/if}}
        {{#if (eq error.title "rejected")}}
          Sorry, your card was not rejected. Please try again or use another card.
        {{/if}}
        {{#if (eq error.title "unsupported")}}
          Sorry, there appears to have been an error with your payment. Please try again or use another card.
        {{/if}}
        {{#if (eq error.title "malformed")}}
          Sorry, there appears to have been an error with your payment. Please try again or use another card.
        {{/if}}
        {{#if (eq error.title "invalid")}}
          Sorry, that card information does appear to be valid. Please try again or use another card.
        {{/if}}
        {{#if (eq error.title "error")}}
          Sorry, there appears to have been an error with your payment. Please try again or use another card.
        {{/if}}
      {{/each}}
    {{/ui-message}}
  {{/if}}

  {{#form.fieldset class="wide-details"}}
    {{form.inset-textfield
      label="Card number*"
      inputId="card-number-field"
      value=(mut payment.cardNumber)
    }}

    {{form.inset-textfield
      label="Name*"
      inputId="cardholder-field"
      value=(mut payment.cardholder)
    }}
  {{/form.fieldset}}

  <div class="short-details">

    {{#form.fieldset}}
      {{form.inset-textfield
        label="Valid from"
        inputId="valid-from-field"
        value=(mut payment.validFrom)
      }}

      {{form.inset-textfield
        label="Issue number - Switch/solo only"
        inputId="issue-number-field"
        value=(mut payment.issueNumber)
      }}
    {{/form.fieldset}}

    {{#form.fieldset}}
      {{form.inset-textfield
        label="Expiry date*"
        inputId="expiry-date-field"
        value=(mut payment.expiryDate)
      }}

      {{form.inset-textfield
        label="Last 3 digits"
        inputId="cvv-field"
        value=(mut payment.cvv)
      }}
    {{/form.fieldset}}
  </div>

  {{ui-button
    class="btn-continue"
    label="Complete payment"
    onclick=(action createPayment payment)
    iconLeft="padlock-white"
    iconRight="chevron-right-white"
    isLoading=isSubmitting
  }}

{{/ui-form}}